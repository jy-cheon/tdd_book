
1. 대역의 필요성 : 외부 요인이 테스트에 관여하는 주요 예이다.
    - 테스트 대상에서 파일 시스템을 사용
    - 테스트 대상에서 DB로부터 데이터를 조회하거나 데이터를 추가
    - 테스트 대상에서 외부의 HTTP 서버와 통신


```java
public class AutoDebitRegisterTest {
   private AutoDebitRegister register;

   @BeforeEach
   void setUp() {
      CardNumberValidator validator = new CardNumberValidator();
      AutoDebitInfoRepository repository = new JpaAutoDebitInfoRepository();
      register = new AutoDebitRegister(validator, repository);
   }

   @Test
   void validCard() {
      // 업체에서 받은 테스트용 유효한 카드번호 사용
      AutoDebitReq req = new AutoDebitReq("user1", "1234123412341234");
      RegisterResult result = this.register.register(req);
      assertEquals(CardValidity.VALID, result.getValidity());
   }

   @Test
   void stolenCard() {
      // 업체에서 받은 테스트용 도난 카드번호 사용
      AutoDebitReq req = new AutoDebitReq("user1", "1002200230034004");
      RegisterResult result = this.register.register(req);
      assertEquals(CardValidity.STOLEN, result.getValidity());
   }
}
```

위 코드는 . . . 